---
title: "Premier League Performance Metrics and Results: A Dynamic Analysis"
subtitle: "Deciphering the Statistics That Support Football Performance in the 2021–2022"
format: html
editor: visual
jupyter: python3
---

```{python}
#| label: load-pkgs
#| message: false
import numpy as np
import pandas as pd
```

## Dataset

```{python}

#importing csv into pandas dataframe
import_data = pd.read_csv("data/soccer21-22.csv")

#printing to only show first 5 rows of data
print(import_data.head())
```

**Dataset Description:**

The 2021–2022 English Premier League (EPL) season's match-day statistics are contained in this dataset, which is sourced from Evan Gower's work on Kaggle. It is taken from the official Premier League website and has been carefully cleaned. It includes 380 matches, which represents the whole season. Every entry contains an abundance of information, such as the teams involved, the date of the match, the referee, and a variety of in-game statistics for both the home and away sides, including goals, shots, fouls, and cards. It also provides full-time results and halftime analytics, providing a detailed analysis of each match's dynamics. This dataset offers a basis for more in-depth research into the variables impacting team performance and match results in addition to providing a numerical narrative of the season.

**Reasons for Choosing this Dataset:**

This dataset captures the attention of millions because of the rich detail and storytelling potential. It is a goldmine for football enthusiasts and can provide deep details within one of the world's most followed sports leagues. Football is a tasteful concoction of skill, strategy, and raw athleticism. This complex tapestry allows for a broad spectrum of unique opportunities to be statistically explored: fouls affecting game outcomes, team discipline, and shot efficacy. It also enables a multifaceted investigation into the relationship between in-game occurrences and success or failure, offering insights that may be of use to observers, coaches, and even players who are trying to improve their tactics. By include halftime data, the analysis gains additional depth and an interesting new perspective on momentum fluctuations within games.

## Questions

**Question 01:** What is the connection between in-game metrics such as shots on goal, fouls committed, and cards received, and the outcomes of soccer matches? Can these metrics help in creating a predictive model to forecast whether the match results will favor the home or away team?

**Question 02:** How do the outcomes of soccer matches vary under the premise that all games concluded at halftime? How does this disparity differ from team to team, and what is the influence of the overall outcome of the league championship ?

## Analysis plan

### For Question 01:

**The variables involved:** Full-time home and away goals ("FTHG" and "FTAG") are crucial indicators of match outcomes. Full-time results ("FTR") will serve as the target variable for predictive modeling. Number of shots taken by the home and away team ("HS" and "AS") and shots on target ("HST" and "AST") reflect attacking performance. Number of fouls by the home and the away team ("HF" and "AF") and cards received ("HY", "AY", "HR", and "AR") indicate team discipline and aggression.

**Data Preparation:** Combining match information with team-level season summaries will indeed provide valuable context for analysis and assist in identifying trends and outliers. The dataset's consistency across all rows and columns, without any missing or erroneous values, ensures the reliability of our analysis. Additionally, no additional calculations or adjustments to rows are required, streamlining the process for further analysis.

**Analysis:** The dataset will be partitioned into training and testing sets to aid in model development and assessment. Regression techniques, including logistic regression or decision trees, will be applied to unveil associations between in-game performance metrics and match outcomes. This examination will enable the identification of patterns and relationships pivotal for constructing predictive models aimed at determining match results.

#### For Question 02:

**The variables involved:** Full-time home and away goals ("FTHG" and "FTAG") are necessary to determine team placement. Full-time results ("FTR") denote the final actual outcome of the match. Half-time goals for the home and away teams, as well as the half-time result ("HTHG", "HTAG", and "HTR"), are important variables for the premise of our question. Additionally, the home team and away team ("HomeTeam" and "AwayTeam") will identify who will win the league in our situation.

**Data Preparation:** Data integrity checks are diligently performed to guarantee consistency and accuracy, with any discrepancies meticulously documented to maintain transparency. Visualizations serve as powerful tools to elucidate shifts in match outcomes and league standings, offering valuable insights into the ramifications of simulated halftime results on soccer match dynamics and league championship outcomes. Notably, the dataset revealed no missing values during the examination.

**Analysis:** The dataset undergoes organization through chronological sorting of match data. Half-time results, derived from the goals scored by both home and away teams (HTHG and HTAG), are computed and juxtaposed against full-time results (FTR). Recalibration of match outcomes under the assumption that all games conclude at halftime facilitates a simulated scenario. For example, a leading home team at halftime is credited with a win, while a tied match results in a draw for both teams. These reevaluated outcomes are subsequently compared with the current league standings to discern any shifts in team rankings and overall league dynamics.
